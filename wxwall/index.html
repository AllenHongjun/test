<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>微信墙首页</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">

    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <!-- Link Swiper's CSS -->
    <link rel="stylesheet" href="assets/swiper/css/swiper.min.css">
    <!-- Demo styles -->
    <link rel="stylesheet" type="text/css" href="css/index.css">
</head>

<body>
    <!-- Swiper  swiper-no-swiping 禁止滑动-->
    <div class="wall-container">
        <div class="swiper-container ">
            <div class="swiper-wrapper">
                
                <div class="swiper-slide">
                    <div class="u-head">
                        <img src="http://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eq1r0iaCPgAaoTiaVRtLmtRBPgEDLM2glgwD9wdCJb7za8LiaUKFXNPgYAeENgJicbQOucvn1UjBDh2mg/0">
                        <div class="nickname-bg">
                            <span class="u-nickname">小王</span>
                        </div>
                    </div>
                    <div class="msg-contain">
                        <div class="u-msgword">
                            大叫好 我想上一个墙
                            <!-- <div class="msg-pic">
                    <img src="http://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eq1r0iaCPgAaoTiaVRtLmtRBPgEDLM2glgwD9wdCJb7za8LiaUKFXNPgYAeENgJicbQOucvn1UjBDh2mg/0">
                  </div> -->
                        </div>
                    </div>
                </div>
               
                <div class="swiper-slide">
                    <div class="u-head">
                        <img src="http://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eq1r0iaCPgAaoTiaVRtLmtRBPgEDLM2glgwD9wdCJb7za8LiaUKFXNPgYAeENgJicbQOucvn1UjBDh2mg/0">
                        <div class="nickname-bg">
                            <span class="u-nickname">小王</span>
                        </div>
                    </div>
                    <div class="msg-contain">
                        <div class="u-msgword">
                            大叫好 我想上一个墙
                            <!-- <div class="msg-pic">
                    <img src="http://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eq1r0iaCPgAaoTiaVRtLmtRBPgEDLM2glgwD9wdCJb7za8LiaUKFXNPgYAeENgJicbQOucvn1UjBDh2mg/0">
                  </div> -->
                        </div>
                    </div>
                </div>
                
                <div class="swiper-slide">
                    <div class="u-head">
                        <img src="http://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eq1r0iaCPgAaoTiaVRtLmtRBPgEDLM2glgwD9wdCJb7za8LiaUKFXNPgYAeENgJicbQOucvn1UjBDh2mg/0">
                        <div class="nickname-bg">
                            <span class="u-nickname">小王</span>
                        </div>
                    </div>
                    <div class="msg-contain">
                        <div class="u-msgword">
                            大叫好 我想上一个墙
                            <!-- <div class="msg-pic">
                    <img src="http://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eq1r0iaCPgAaoTiaVRtLmtRBPgEDLM2glgwD9wdCJb7za8LiaUKFXNPgYAeENgJicbQOucvn1UjBDh2mg/0">
                  </div> -->
                        </div>
                    </div>
                </div>
               
                <div class="swiper-slide">
                    <div class="u-head">
                        <img src="http://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eq1r0iaCPgAaoTiaVRtLmtRBPgEDLM2glgwD9wdCJb7za8LiaUKFXNPgYAeENgJicbQOucvn1UjBDh2mg/0">
                        <div class="nickname-bg">
                            <span class="u-nickname">小王</span>
                        </div>
                    </div>
                    <div class="msg-contain">
                        <div class="u-msgword">
                            大叫好 我想上一个墙
                            <!-- <div class="msg-pic">
                    <img src="http://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eq1r0iaCPgAaoTiaVRtLmtRBPgEDLM2glgwD9wdCJb7za8LiaUKFXNPgYAeENgJicbQOucvn1UjBDh2mg/0">
                  </div> -->
                        </div>
                    </div>
                </div>
               
               
            </div>
            <!-- Add Pagination -->
            <!-- <div class="swiper-pagination"></div> -->
        </div>
        <div class="swiper-container-big">
            <div class="swiper-wrapper">
                <div class="swiper-slide">
                    <div class="header">
                        <img src="http://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eq1r0iaCPgAaoTiaVRtLmtRBPgEDLM2glgwD9wdCJb7za8LiaUKFXNPgYAeENgJicbQOucvn1UjBDh2mg/0">
                        小王
                        
                    </div>
                    <div class="line"></div>
                    <div class="msg-contain">
                        <div class="u-msgword">
                            大叫好 我想上一个墙12321321323
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="header">
                        <img src="http://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eq1r0iaCPgAaoTiaVRtLmtRBPgEDLM2glgwD9wdCJb7za8LiaUKFXNPgYAeENgJicbQOucvn1UjBDh2mg/0">
                        小王
                        
                    </div>
                    <div class="line"></div>
                    <div class="msg-contain">
                        <div class="u-msgword">
                            大叫好 我想上一个墙12321321323
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="header">
                        <img src="http://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eq1r0iaCPgAaoTiaVRtLmtRBPgEDLM2glgwD9wdCJb7za8LiaUKFXNPgYAeENgJicbQOucvn1UjBDh2mg/0">
                        小王
                        
                    </div>
                    <div class="line"></div>
                    <div class="msg-contain">
                        <div class="u-msgword">
                            大叫好 我想上一个墙12321321323
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="header">
                        <img src="http://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eq1r0iaCPgAaoTiaVRtLmtRBPgEDLM2glgwD9wdCJb7za8LiaUKFXNPgYAeENgJicbQOucvn1UjBDh2mg/0">
                        小王
                        
                    </div>
                    <div class="line"></div>
                    <div class="msg-contain">
                        <div class="u-msgword">
                            大叫好 我想上一个墙12321321323
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="header">
                        <img src="http://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eq1r0iaCPgAaoTiaVRtLmtRBPgEDLM2glgwD9wdCJb7za8LiaUKFXNPgYAeENgJicbQOucvn1UjBDh2mg/0">
                        小王
                        
                    </div>
                    <div class="line"></div>
                    <div class="msg-contain">
                        <div class="u-msgword">
                            大叫好 我想上一个墙12321321323
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="header">
                        <img src="http://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eq1r0iaCPgAaoTiaVRtLmtRBPgEDLM2glgwD9wdCJb7za8LiaUKFXNPgYAeENgJicbQOucvn1UjBDh2mg/0">
                        小王
                        
                    </div>
                    <div class="line"></div>
                    <div class="msg-contain">
                        <div class="u-msgword">
                            大叫好 我想上一个墙12321321323
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="header">
                        <img src="http://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eq1r0iaCPgAaoTiaVRtLmtRBPgEDLM2glgwD9wdCJb7za8LiaUKFXNPgYAeENgJicbQOucvn1UjBDh2mg/0">
                        小王
                        
                    </div>
                    <div class="line"></div>
                    <div class="msg-contain">
                        <div class="u-msgword">
                            大叫好 我想上一个墙12321321323
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="header">
                        <img src="http://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eq1r0iaCPgAaoTiaVRtLmtRBPgEDLM2glgwD9wdCJb7za8LiaUKFXNPgYAeENgJicbQOucvn1UjBDh2mg/0">
                        小王
                        
                    </div>
                    <div class="line"></div>
                    <div class="msg-contain">
                        <div class="u-msgword">
                            大叫好 我想上一个墙12321321323
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="header">
                        <img src="http://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eq1r0iaCPgAaoTiaVRtLmtRBPgEDLM2glgwD9wdCJb7za8LiaUKFXNPgYAeENgJicbQOucvn1UjBDh2mg/0">
                        小王
                        
                    </div>
                    <div class="line"></div>
                    <div class="msg-contain">
                        <div class="u-msgword">
                            大叫好 我想上一个墙12321321323
                        </div>
                    </div>
                </div>
                
            </div>
            <!-- Add Pagination -->
            <!-- <div class="swiper-pagination"></div> -->
        </div>
        <div class="control-btn">
            <button id="btnStart">开始</button>
            <button id="btnStop">暂停</button>
            <button id="btnChange">切换大</button>
            <button id="btnShowSmall">切换小</button>
            <button class="btn-swiper-next">下一页</button>
            <button class="btn-swiper-prev">上一页</button>
        </div>
    </div>
    <script type="text/javascript" src="assets/jquery-2.0.3.min.js"></script>
    <!-- Swiper JS -->
    <script src="assets/swiper/js/swiper.min.js"></script>
    <!-- Initialize Swiper -->
    <script>

      // 图片 加载的时候 有的时候回变形
      // 变成其他列的时候 图片会变形
      // 屏幕变窄的时候头像会变形
      // 字体大小 不会跟着屏幕的变化
      // 样式配色还不是很美观

      // 其他就是 数据对接
      // 发送表情


    var mySwiper = new Swiper('.swiper-container', {


        direction: 'vertical',
        spaceBetween: 30,
        slidesPerGroup: 1,
        slidesPerView:2, //设置slider容器能够同时显示的slides数量(carousel模式)。
        loop: true,
        autoHeight: true,
        // 支持按键控制
        keyboard: {
            enabled: true,
        },
        //鼠标滚轮控制
        // mousewheel: true,
        // autoplay:false,
        observer: true, //修改swiper自己或子元素时，自动初始化swiper

        observeParents: true, //修改swiper的父元素时，自动初始化swiper
        // autoplay: {
        //     delay: 2000, //1秒切换一次
        //     disableOnInteraction: false, //用户操作swiper之后，是否禁止autoplay。默认为true：停止。
        // },
        speed: 500, //滑动动画的时间
        effect: 'slide',
        // slidesPerColumn: 2,

        pagination: {
            el: '.swiper-pagination',
            clickable: true,
        },

        //控制上一页 下一页的按钮
        navigation: {
            nextEl: '.btn-swiper-next',
            prevEl: '.btn-swiper-prev',
        },
        on: {
            click: function(e) {
                // console.log(e);
                // console.log(this)

                // var realIndex = this.realIndex;
                // console.log(realIndex);
                // console.log(this.activeIndex);
                // console.log(this.snapIndex)

                //返回最后点击Slide的索引。(click)
                console.log(this.params.slidesPerView)
                var Index = this.clickedIndex - this.params.slidesPerView + 1;
                console.log(Index);
                mySwiperBig.slideTo(Index, 100, false); //切换到第一个slide，速度为1秒
                $('.swiper-container').css({ 'visibility': 'hidden' });
                $('.swiper-container-big').css({ 'visibility': 'visible' });
            }
        },
    })

    var mySwiperBig = new Swiper('.swiper-container-big', {


        direction: 'vertical',
        spaceBetween: 22,
        slidesPerGroup: 1,
        slidesPerView: 1, //设置slider容器能够同时显示的slides数量(carousel模式)。
        loop: true,
        autoHeight: true,
        // 支持按键控制
        keyboard: {
            enabled: true,
        },
        //鼠标滚轮控制
        // mousewheel: true,
        // autoplay:false,
        observer: true, //修改swiper自己或子元素时，自动初始化swiper

        observeParents: true, //修改swiper的父元素时，自动初始化swiper
        autoplay: {
            delay: 2000, //1秒切换一次
            disableOnInteraction: false, //用户操作swiper之后，是否禁止autoplay。默认为true：停止。
        },
        speed: 500, //滑动动画的时间
        effect: 'slide',
        // slidesPerColumn: 2,

        pagination: {
            el: '.swiper-pagination',
            clickable: true,
        },

        //控制上一页 下一页的按钮
        navigation: {
            nextEl: '.btn-swiper-next',
            prevEl: '.btn-swiper-prev',
        },
        on: {
            click: function(e) {

                //两个索引之间刚好相差 单页显示的数量 -1 
                var realIndex = this.realIndex;
                var Index = this.clickedIndex + mySwiper.params.slidesPerView - 1;
                console.log(Index);
                // 指定将要切换到的slide的索引。
                // mySwiper.slideTo(Index, 100, false); //
                $('.swiper-container').css({ 'visibility': 'visible' });
                $('.swiper-container-big').css({ 'visibility': 'hidden' });
            }
        },
    })



   $(function(){
      $('#btnStart').click(function() {
      mySwiper.autoplay.start();
      mySwiperBig.autoplay.start();
      })
      $('#btnStop').click(function() {
      mySwiper.autoplay.stop();
      mySwiperBig.autoplay.stop();
      })

        // var w = $('.u-head').width();
        // var h = $('.u-head').height();
        // console.log(w);
        // console.log(h);
        // if(w > h){
        //   $('.u-head').width(h);
        // }
    })
    
    </script>
</body>

</html>